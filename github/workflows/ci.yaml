name: ğŸš€ CI Pipeline   # Ø§Ø³Ù… Ø§Ù„Ù€ pipeline ÙƒÙŠØ¨Ø§Ù† ÙÙ€ GitHub

on:
  push:               # ÙƒÙ„Ù…Ø§ Ø´ÙŠ Ø­Ø¯ Ø¯Ø² push
    branches:
      - master          # ØºÙŠØ± Ù„Ù„ÙØ±Ø¹ main
  pull_request:       # ÙˆÙ„Ø§ Ù…Ù„ÙŠ ÙƒÙŠØªÙØªØ­ PR Ø¹Ù„Ù‰ main
    branches:
      - master

jobs:
  build-and-test:     # Ø§Ø³Ù… Ø§Ù„Ù€ job
    runs-on: ubuntu-latest   # Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ù„ÙŠ ØºØ§Ø¯ÙŠ ÙŠØ®Ø¯Ù… ÙÙŠÙ‡ job (Linux)

    steps:
      - name: ğŸ“¥ Checkout source code
        uses: actions/checkout@v3
        # Ù‡Ø§Ø¯ÙŠ Ø¨Ø§Ø´ Ù†Ø¬ÙŠØ¨Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ù…Ù† repository

      - name: âš™ï¸ Set up Java
        uses: actions/setup-java@v3
        with:
          java-version: '17'             # Ù†Ø­Ø¯Ø¯ version Ø¯ÙŠØ§Ù„ Java
          distribution: 'temurin'        # distribution Ø¨Ø­Ø§Ù„ adopt, temurin...

      - name: ğŸ“¦ Build project with Maven
        run: mvn clean install
        # Ù†Ø¨Ù†ÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¯ÙŠØ§Ù„Ù†Ø§ ÙˆÙ†Ø¯ÙŠØ± install Ù„Ù„Ù€ dependencies

      - name: ğŸ§ª Run tests
        run: mvn test
        # Ù†Ø´ØºÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø§Ø´ Ù†ØªØ§ÙƒØ¯ Ø§Ù„ÙƒÙˆØ¯ Ø®Ø¯Ø§Ù…

      - name: âœ… Done!
        run: echo "âœ… CI succeeded"
        # Ù…Ø¬Ø±Ø¯ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø¨Ø£Ù† CI Ø¯Ø§Ø² Ø¨Ù†Ø¬Ø§Ø­
